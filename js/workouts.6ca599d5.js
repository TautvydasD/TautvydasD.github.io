(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["workouts"],{"0a1e":function(t,e,r){t.exports=r.p+"img/dumbbell.fe01da32.svg"},"608c":function(t,e,r){},"61ab":function(t,e,r){"use strict";var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-dialog",{key:"workout",attrs:{width:"600","retain-focus":!1},on:{"click:outside":t.resetForm},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,o=e.attrs;return[t.custom?t._t("custom",null,{attrs:o,on:i}):t.event?s("v-card",{staticClass:"ma-2"},[s("v-img",{staticClass:"white--text align-end",attrs:{src:t.workout.image_url&&t.workout.image_url.length>0?t.workout.image_url:r("0a1e"),gradient:"to bottom, rgba(0,0,0,.1), rgba(0,0,0,.5)",height:"250px"}},[s("v-card-title",{domProps:{textContent:t._s(t.workout.name)}})],1),s("v-card-actions",[s("v-btn",t._g(t._b({attrs:{text:""}},"v-btn",o,!1),i),[s("v-icon",{attrs:{color:"primary"}},[t._v(" mdi-information-outline ")])],1),s("v-spacer"),s("v-btn",{attrs:{text:""},on:{click:function(e){return t.addWorkoutToEvent(t.workout)}}},[s("v-icon",{attrs:{color:"primary"}},[t._v(" mdi-plus ")])],1)],1)],1):t.isAdd?s("v-card",t._g(t._b({staticClass:"ma-2",attrs:{width:"300",height:"250"}},"v-card",o,!1),i),[s("v-alert",{staticClass:"d-flex justify-center",attrs:{outlined:"",color:"primary",width:"300",height:"250"}},[s("v-card-title",{staticClass:"justify-center text-xs-center"},[s("v-icon",{attrs:{color:"primary"}},[t._v(" mdi-plus ")])],1),s("v-card-text",{staticClass:"text-xs-center"},[t._v(" Create new workout ")])],1)],1):s("v-card",t._g(t._b({staticClass:"ma-2",attrs:{width:t.isEdit?"300":""}},"v-card",o,!1),i),[s("v-img",{staticClass:"white--text align-end",attrs:{src:t.workout.image_url||r("0a1e"),gradient:"to bottom, rgba(0,0,0,.1), rgba(0,0,0,.5)",height:"250px"}},[s("v-card-title",{domProps:{textContent:t._s(t.workout.name)}})],1)],1)]}}],null,!0),model:{value:t.workoutModal,callback:function(e){t.workoutModal=e},expression:"workoutModal"}},[t.showForm?s("v-card",[s("v-card-title",[t._v(" "+t._s(t.titleText+" workout")+" ")]),s("v-divider"),s("v-card-text",[s("v-form",[s("v-text-field",{attrs:{label:"Name",required:""},model:{value:t.workoutForm.name,callback:function(e){t.$set(t.workoutForm,"name",e)},expression:"workoutForm.name"}}),s("v-text-field",{attrs:{label:"Description",required:""},model:{value:t.workoutForm.description,callback:function(e){t.$set(t.workoutForm,"description",e)},expression:"workoutForm.description"}}),s("v-text-field",{attrs:{label:"Sets",required:""},model:{value:t.workoutForm.sets,callback:function(e){t.$set(t.workoutForm,"sets",e)},expression:"workoutForm.sets"}}),s("v-text-field",{attrs:{label:"Image URL"},model:{value:t.workoutForm.image_url,callback:function(e){t.$set(t.workoutForm,"image_url",e)},expression:"workoutForm.image_url"}}),s("v-checkbox",{attrs:{label:"Show publicly"},model:{value:t.workoutForm.access_public,callback:function(e){t.$set(t.workoutForm,"access_public",e)},expression:"workoutForm.access_public"}}),s("span",{staticClass:"subtitle-1"},[t._v("Exercises")]),s("v-dialog",{attrs:{width:"800"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[s("v-row",[s("v-col",[s("v-btn",t._g({attrs:{height:"50",width:"100%",outlined:"",color:"primary",cols:"12"},on:{click:function(e){t.exerciseDialog=!0}}},r),[s("div",{staticClass:"button-content-wrapper"},[s("v-icon",{attrs:{color:"primary"}},[t._v(" mdi-plus ")]),t._v(" Add exercise ")],1)])],1)],1)]}}],null,!1,465216388),model:{value:t.exerciseDialog,callback:function(e){t.exerciseDialog=e},expression:"exerciseDialog"}},[s("v-card",[s("v-card-title",[t._v(" Exercises ")]),s("v-card-text",[s("span",{staticClass:"subtitle-1"},[t._v("My Exercises")]),s("v-layout",{attrs:{wrap:""}},[s("card-table",{attrs:{instances:t.exercises.myExercises,loaded:!0},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.item;return[s("exercise-modal",{attrs:{exercise:r,workout:""},on:{"exercise-add":function(e){return t.addExerciseToWorkout(e,"mine")}}})]}}],null,!1,2622346377)})],1),s("v-divider",{staticClass:"my-4"}),s("span",{staticClass:"subtitle-1"},[t._v("Public exercises")]),s("v-layout",{attrs:{wrap:""}},[s("card-table",{attrs:{instances:t.exercises.exercises,loaded:!0},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.item;return[s("exercise-modal",{attrs:{exercise:r,workout:""},on:{"exercise-add":function(e){return t.addExerciseToWorkout(e,"all")}}})]}}],null,!1,2531062727)})],1),s("v-divider",{staticClass:"my-4"}),s("span",{staticClass:"subtitle-1"},[t._v("wGer exercises")]),s("v-layout",{attrs:{wrap:""}},[s("card-table",{attrs:{instances:t.exercises.wGerExercises,loaded:!0},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.item;return[s("exercise-modal",{attrs:{exercise:r,workout:""},on:{"exercise-add":function(e){return t.addExerciseToWorkout(e,"wger")}}})]}}],null,!1,2033208353)})],1)],1)],1)],1),s("div",{staticStyle:{position:"relative"}},t._l(t.workoutExercises,(function(e,r){return s("v-row",{key:"ex-"+e.type+"-"+e.unique,ref:"row-"+r,refInFor:!0},[s("v-col",{attrs:{cols:"8"}},[s(t.getComponent(e.type),{tag:"component",attrs:{exercise:t.getExercise(e.exerciseId,e.type),custom:""},scopedSlots:t._u([{key:"custom",fn:function(i){var o=i.on,a=i.attrs;return[s("v-card",{attrs:{xs8:""}},[s("v-card-title",[s("v-icon",{on:{mousedown:function(e){return t.dnd.handleStart(e,{targetData:t.$refs["row-"+r][0],handleData:t.handleDataChange})},touchstart:function(e){return t.dnd.handleStart(e,{targetData:t.$refs["row-"+r][0],handleData:t.handleDataChange})}}},[t._v(" mdi-dumbbell ")]),s("div",{staticClass:"grey--text card-title-name-spacing"},[t._v(" "+t._s(e.name)+" ")]),s("v-spacer"),s("v-btn",{attrs:{icon:"",text:"",color:"green"},on:{click:t.enableExerciseSwap}},[s("v-icon",[t._v("mdi-swap-horizontal")])],1),s("v-btn",t._g(t._b({attrs:{icon:"",text:"",color:"primary"}},"v-btn",a,!1),o),[s("v-icon",[t._v("mdi-information-outline")])],1),s("v-btn",{attrs:{icon:"",text:"",color:"error"},on:{click:function(e){return t.removeExercise(r)}}},[s("v-icon",[t._v("mdi-delete")])],1)],1)],1)]}}],null,!0)})],1),s("v-col",{attrs:{cols:"4"}},[s("v-text-field",{attrs:{label:"Reps",required:""},model:{value:e.reps,callback:function(r){t.$set(e,"reps",r)},expression:"ex.reps"}})],1)],1)})),1)],1)],1),s("v-divider"),s("v-card-actions",[s("v-btn",{attrs:{text:""},on:{click:t.resetForm}},[t._v(" Back ")]),s("v-spacer"),s("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.isEdit,expression:"isEdit"}],attrs:{text:"",color:"red"},on:{click:t.removeWorkout}},[t._v(" Remove ")]),s("v-btn",{attrs:{text:"",color:"green"},on:{click:t.saveWorkout}},[t._v(" Save ")])],1)],1):s("v-card",[s("v-card-title",[s("div",[t._v(" "+t._s(t.workout.name)+" ")]),s("v-spacer"),s("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.isEdit,expression:"isEdit"}],attrs:{color:"blue",text:""},on:{click:t.openEdit}},[t._v(" Edit ")])],1),s("v-divider"),s("v-card-subtitle",{staticStyle:{"padding-top":"20px"}},[t._v(" Description ")]),s("v-card-text",{staticStyle:{color:"black"}},[t._v(t._s(t.workout.description||"None"))]),s("v-card-subtitle",[t._v("Sets")]),s("v-card-text",{staticStyle:{color:"black"}},[t._v(t._s(t.workout.sets||"None"))]),s("v-card-subtitle",[t._v("Exercises")]),s("v-card-text",[t._l(t.shownExercises,(function(e,r){return s("v-row",{key:"ex.name-"+r},[s("v-col",{attrs:{cols:"8"}},[s(t.getComponent(e.type),{tag:"component",attrs:{exercise:t.getExercise(e.exerciseId,e.type),custom:""},scopedSlots:t._u([{key:"custom",fn:function(r){var i=r.on,o=r.attrs;return[s("v-card",{attrs:{xs8:""}},[s("v-card-title",[s("v-icon",[t._v("mdi-dumbbell")]),s("div",{staticClass:"grey--text card-title-name-spacing"},[t._v(" "+t._s(e.name)+" ")]),s("v-spacer"),s("v-btn",t._g(t._b({attrs:{icon:"",text:"",color:"primary"}},"v-btn",o,!1),i),[s("v-icon",[t._v("mdi-information-outline")])],1)],1)],1)]}}],null,!0)})],1),s("v-col",{attrs:{cols:"4"}},[s("v-card-subtitle",{staticStyle:{"padding-top":"0"}},[t._v(" Reps ")]),s("v-card-text",[t._v(" "+t._s(e.reps)+" ")])],1)],1)})),s("div",{directives:[{name:"show",rawName:"v-show",value:0===t.shownExercises.length,expression:"shownExercises.length === 0"}]},[t._v("No exercises used")])],2),s("v-divider"),s("v-card-actions",[s("v-btn",{attrs:{text:""},on:{click:t.resetForm}},[t._v(" Back ")])],1)],1)],1)},i=[],o=r("5530"),a=(r("d3b7"),r("159b"),r("b0c0"),r("d81d"),r("c740"),r("a434"),r("fb6a"),r("a074")),n=r("77b5"),c=r("5458"),l=r("2909"),u=function(t,e){t.style.top="".concat(e,"px")},d=function(t,e){return t<-20&&(t=-20),t>e+5&&(t=e+5),t},h=function(t,e){var r=t.getBoundingClientRect(),s=e.getBoundingClientRect();return r.top+window.scrollY+r.height/2<s.top+window.scrollY+s.height/2},v=function(t,e){var r=e.cloneNode(!0);return r.removeAttribute("style"),r.id="data-row-placeholder",r.className=t,r},f=function(t,e){t.removeAttribute("style"),t.classList.toggle("data-row-item-draggable")},p=function(t){var e,r,s,i={isMouseDown:!1,dynamicPlaceholder:null,draggableObjectParent:null,draggablePos:0,targetDataMarginOffset:0,targetData:null,targetIndex:0,scrollableParent:null,handleData:function(){}},o=function(t,e){var r=i.draggableObjectParent,s=t.nextSibling===e?t:t.nextSibling;r.insertBefore(t,e),r.insertBefore(e,s)},a=!1;function n(){i.scrollableParent.scrollTop=r?i.scrollableParent.scrollTop+4:i.scrollableParent.scrollTop-4}function c(t){t&&!a&&p(),t||m()}function p(){a=!0,e=setInterval(n,10)}function m(){a=!1,clearInterval(e)}function g(t){var e=i.scrollableParent.getBoundingClientRect().top,o=i.scrollableParent.getBoundingClientRect().bottom,a=i.targetData.getBoundingClientRect().top,n=i.targetData.getBoundingClientRect().bottom;a<1.5*e?(r=!1,s=t.clientY,c(!0)):n>o&&(r=!0,s=t.clientY,c(!0)),(r&&t.clientY<s||!r&&t.clientY>s)&&c(!1)}i.getReorderedList=function(t,e,r){var s=Object(l["a"])(t),i=s.splice(e,1);return s.splice(r,0,i[0]),s},i.handleStart=function(e,r){if(!this.isMouseDown&&null===this.targetData){document.body.style="cursor: grabbing;",this.isMouseDown=!0,this.targetData=r.targetData,this.draggableObjectParent=t||this.targetData.parentNode,this.targetIndex=Array.prototype.slice.call(this.draggableObjectParent.children).indexOf(this.targetData),this.handleData=r.handleData,this.scrollableParent=r.scrollableParent||this.draggableObjectParent,this.draggablePos=10,this.targetDataMarginOffset=parseInt(getComputedStyle(this.targetData).marginTop),this.dynamicPlaceholder=v("data-row-item-placeholder row",this.targetData),this.targetData.id="data-row-item-target";var s=this.targetData.nextElementSibling;s?this.draggableObjectParent.insertBefore(this.dynamicPlaceholder,s):this.draggableObjectParent.appendChild(this.dynamicPlaceholder);var i=this.scrollableParent.getBoundingClientRect().top+window.scrollY,o=(e.pageY||e.changedTouches[0].pageY)-i-this.targetDataMarginOffset-this.draggablePos;f(this.targetData,this.isMouseDown),u(this.targetData,o),document.addEventListener("mousemove",w),document.addEventListener("mouseup",x),document.addEventListener("mousecancel",x),document.addEventListener("touchmove",w),document.addEventListener("touchend",x),document.addEventListener("touchcancel",x),e.changedTouches&&e.stopImmediatePropagation(),e.preventDefault()}};var w=function(t){if(i.isMouseDown){g(t);var e=i.scrollableParent.getBoundingClientRect().top+window.scrollY,r=(t.pageY||t.changedTouches[0].pageY)-e-i.targetDataMarginOffset-i.draggablePos,s=d(r,i.draggableObjectParent.clientHeight);u(i.targetData,s);var a=i.targetData.previousElementSibling,n=i.dynamicPlaceholder.nextElementSibling;a&&h(i.targetData,a)&&(o(i.dynamicPlaceholder,i.targetData),o(i.dynamicPlaceholder,a)),n&&h(n,i.targetData)&&(o(n,i.dynamicPlaceholder),o(n,i.targetData)),t.changedTouched&&t.stopImmediatePropagation(),t.preventDefault()}},x=function t(){if(i.isMouseDown){i.isMouseDown=!1,m();var e=document.getElementById("data-row-placeholder");if(e&&(i.draggableObjectParent.removeChild(e),i.handleData)){var r=document.getElementById("data-row-item-target");i.handleData(r,i.targetIndex)}i.targetData&&(f(i.targetData,i.isMouseDown),i.targetData.removeAttribute("id")),document.body.style="cursor: default;",i.targetIndex=0,i.targetData=null,i.dynamicPlaceholder=null,document.removeEventListener("mousemove",w),document.removeEventListener("mouseup",t),document.removeEventListener("mousecancel",t),document.removeEventListener("touchmove",w),document.removeEventListener("touchend",t),document.removeEventListener("touchcancel",t)}};return i},m={name:"WorkoutModal",components:{ExerciseModal:n["a"],WgerExercise:a["a"],CardTable:c["a"]},props:{custom:{type:Boolean,default:!1},event:{type:Boolean,default:!1},isEdit:{type:Boolean,default:!1},isAdd:{type:Boolean,default:!1},workout:{type:Object,default:function(){}},exercises:{type:Object,required:!0}},data:function(){return{workoutForm:{name:"",sets:"",image_url:"",access_public:!1,description:""},workoutModal:!1,exerciseDialog:!1,editable:!1,workoutExercises:[],swapExercise:!1,swappableExercise:{},dnd:p()}},computed:{showForm:function(){return this.isEdit&&this.editable||this.isAdd},titleText:function(){return this.isEdit?"Update":"Create new"},shownExercises:function(){var t=this,e=[];return this.workout.exercises.forEach((function(r){var s={mine:t.exercises.myExercises,all:t.exercises.exercises,wger:t.exercises.wGerExercises};e.push({type:r.type,reps:r.reps,position:r.position,name:s[r.type][r.exerciseId].name,exerciseId:r.exerciseId})})),e}},methods:{openEdit:function(){var t=this;this.editable=!0,this.workoutForm=Object(o["a"])({},this.workout);var e=[];this.workout.exercises.forEach((function(r,s){var i={mine:t.exercises.myExercises,all:t.exercises.exercises,wger:t.exercises.wGerExercises};e.push({type:r.type,reps:r.reps,position:r.position,exerciseId:r.exerciseId,name:i[r.type][r.exerciseId].name,unique:s})})),this.workoutExercises=e},resetForm:function(){this.workoutModal=!1,this.workoutExercises=[],this.editable=!1,this.swapExercise=!1,this.workoutForm={name:"",sets:"",image_url:"",access_public:!1,description:""}},removeWorkout:function(){var t=this.workoutForm.id;this.resetForm(),this.$emit("remove-workout",t)},saveWorkout:function(){this.workoutModal=!1;var t=this.workoutForm;t.exercises=this.workoutExercises.map((function(t,e){return{position:e,reps:t.reps,type:t.type,id:t.exerciseId,exerciseId:t.exerciseId}})),this.resetForm(),this.$emit("save-workout",t)},addExerciseToWorkout:function(t,e){var r=this;this.exerciseDialog=!1;var s={name:t.name,exerciseId:t.id,thirdParty:t.thirdParty,type:e};if(this.swapExercise){var i=this.workoutExercises.findIndex((function(t){return t.id===r.swappableExercise.id}));return this.$set(this.workoutExercises,i,s),this.swapExercise=!1,void(this.swappableExercise={})}this.workoutExercises.push(s)},enableExerciseSwap:function(t){this.swappableExercise=t,this.swapExercise=!0,this.exerciseDialog=!0},removeExercise:function(t){this.workoutExercises.splice(t,1)},handleDataChange:function(t,e){var r=Array.prototype.slice.call(t.parentNode.children),s=r.indexOf(t);this.workoutExercises=this.dnd.getReorderedList(this.workoutExercises,e,s)},getExercise:function(t,e){var r={mine:this.exercises.myExercises,all:this.exercises.exercises,wger:this.exercises.wGerExercises},s=r[e];return s[t]},getComponent:function(t){return"wger"===t?"wger-exercise":"exercise-modal"},addWorkoutToEvent:function(t){this.$emit("workout-add",{id:t.id,name:t.name})}}},g=m,w=(r("689e"),r("2877")),x=r("6544"),b=r.n(x),k=r("0798"),y=r("8336"),_=r("b0af"),E=r("99d9"),C=r("ac7c"),O=r("62ad"),S=r("169a"),D=r("ce7e"),$=r("4bd4"),W=r("132d"),P=r("adda"),I=r("a722"),M=r("0fd9"),T=r("2fa4"),j=r("8654"),A=Object(w["a"])(g,s,i,!1,null,"028d9588",null);e["a"]=A.exports;b()(A,{VAlert:k["a"],VBtn:y["a"],VCard:_["a"],VCardActions:E["a"],VCardSubtitle:E["b"],VCardText:E["c"],VCardTitle:E["d"],VCheckbox:C["a"],VCol:O["a"],VDialog:S["a"],VDivider:D["a"],VForm:$["a"],VIcon:W["a"],VImg:P["a"],VLayout:I["a"],VRow:M["a"],VSpacer:T["a"],VTextField:j["a"]})},"650e":function(t,e,r){"use strict";var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-dialog",{attrs:{width:"800"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,s=e.attrs;return[t._t("content",null,{on:r,attrs:s})]}}],null,!0)},[r("v-card",[r("v-card-title",[t._v(t._s(t.title))]),r("v-card-text",[t._t("default")],2)],1)],1)},i=[],o={props:{title:{type:String,required:!0}}},a=o,n=r("2877"),c=r("6544"),l=r.n(c),u=r("b0af"),d=r("99d9"),h=r("169a"),v=Object(n["a"])(a,s,i,!1,null,null,null);e["a"]=v.exports;l()(v,{VCard:u["a"],VCardText:d["c"],VCardTitle:d["d"],VDialog:h["a"]})},"689e":function(t,e,r){"use strict";r("964b")},"7efd":function(t,e,r){"use strict";r.d(e,"a",(function(){return m}));var s=r("b85c"),i=r("5530"),o=(r("2af1"),r("caad"),r("99af"),r("fb6a"),r("608c"),r("9d26")),a=r("0789"),n=r("604c"),c=r("e4cd"),l=r("dc22"),u=r("c3f0"),d=r("58df"),h=r("80d2");function v(t){var e=.501,r=Math.abs(t);return Math.sign(t)*(r/((1/e-2)*(1-r)+1))}function f(t,e,r,s){var i=t.clientWidth,o=r?e.content-t.offsetLeft-i:t.offsetLeft;r&&(s=-s);var a=e.wrapper+s,n=i+o,c=.4*i;return o<=s?s=Math.max(o-c,0):a<=n&&(s=Math.min(s-(a-n-c),e.content-e.wrapper)),r?-s:s}function p(t,e,r){var s=t.offsetLeft,i=t.clientWidth;if(r){var o=e.content-s-i/2-e.wrapper/2;return-Math.min(e.content-e.wrapper,Math.max(0,o))}var a=s+i/2-e.wrapper/2;return Math.min(e.content-e.wrapper,Math.max(0,a))}var m=Object(d["a"])(n["a"],c["a"]).extend({name:"base-slide-group",directives:{Resize:l["a"],Touch:u["a"]},props:{activeClass:{type:String,default:"v-slide-item--active"},centerActive:Boolean,nextIcon:{type:String,default:"$next"},prevIcon:{type:String,default:"$prev"},showArrows:{type:[Boolean,String],validator:function(t){return"boolean"===typeof t||["always","desktop","mobile"].includes(t)}}},data:function(){return{internalItemsLength:0,isOverflowing:!1,resizeTimeout:0,startX:0,isSwipingHorizontal:!1,isSwiping:!1,scrollOffset:0,widths:{content:0,wrapper:0}}},computed:{canTouch:function(){return"undefined"!==typeof window},__cachedNext:function(){return this.genTransition("next")},__cachedPrev:function(){return this.genTransition("prev")},classes:function(){return Object(i["a"])(Object(i["a"])({},n["a"].options.computed.classes.call(this)),{},{"v-slide-group":!0,"v-slide-group--has-affixes":this.hasAffixes,"v-slide-group--is-overflowing":this.isOverflowing})},hasAffixes:function(){switch(this.showArrows){case"always":return!0;case"desktop":return!this.isMobile;case!0:return this.isOverflowing||Math.abs(this.scrollOffset)>0;case"mobile":return this.isMobile||this.isOverflowing||Math.abs(this.scrollOffset)>0;default:return!this.isMobile&&(this.isOverflowing||Math.abs(this.scrollOffset)>0)}},hasNext:function(){if(!this.hasAffixes)return!1;var t=this.widths,e=t.content,r=t.wrapper;return e>Math.abs(this.scrollOffset)+r},hasPrev:function(){return this.hasAffixes&&0!==this.scrollOffset}},watch:{internalValue:"setWidths",isOverflowing:"setWidths",scrollOffset:function(t){var e=t<=0?v(-t):t>this.widths.content-this.widths.wrapper?-(this.widths.content-this.widths.wrapper)+v(this.widths.content-this.widths.wrapper-t):-t;this.$refs.content.style.transform="translateX(".concat(e,"px)")}},beforeUpdate:function(){this.internalItemsLength=(this.$children||[]).length},updated:function(){this.internalItemsLength!==(this.$children||[]).length&&this.setWidths()},methods:{onScroll:function(){this.$refs.wrapper.scrollLeft=0},onFocusin:function(t){if(this.isOverflowing){var e,r=Object(s["a"])(Object(h["g"])(t));try{for(r.s();!(e=r.n()).done;){var i,o=e.value,a=Object(s["a"])(this.items);try{for(a.s();!(i=a.n()).done;){var n=i.value;if(n.$el===o)return void(this.scrollOffset=f(n.$el,this.widths,this.$vuetify.rtl,this.scrollOffset))}}catch(c){a.e(c)}finally{a.f()}}}catch(c){r.e(c)}finally{r.f()}}},genNext:function(){var t=this,e=this.$scopedSlots.next?this.$scopedSlots.next({}):this.$slots.next||this.__cachedNext;return this.$createElement("div",{staticClass:"v-slide-group__next",class:{"v-slide-group__next--disabled":!this.hasNext},on:{click:function(){return t.onAffixClick("next")}},key:"next"},[e])},genContent:function(){return this.$createElement("div",{staticClass:"v-slide-group__content",ref:"content",on:{focusin:this.onFocusin}},this.$slots.default)},genData:function(){return{class:this.classes,directives:[{name:"resize",value:this.onResize}]}},genIcon:function(t){var e=t;this.$vuetify.rtl&&"prev"===t?e="next":this.$vuetify.rtl&&"next"===t&&(e="prev");var r="".concat(t[0].toUpperCase()).concat(t.slice(1)),s=this["has".concat(r)];return this.showArrows||s?this.$createElement(o["a"],{props:{disabled:!s}},this["".concat(e,"Icon")]):null},genPrev:function(){var t=this,e=this.$scopedSlots.prev?this.$scopedSlots.prev({}):this.$slots.prev||this.__cachedPrev;return this.$createElement("div",{staticClass:"v-slide-group__prev",class:{"v-slide-group__prev--disabled":!this.hasPrev},on:{click:function(){return t.onAffixClick("prev")}},key:"prev"},[e])},genTransition:function(t){return this.$createElement(a["c"],[this.genIcon(t)])},genWrapper:function(){var t=this;return this.$createElement("div",{staticClass:"v-slide-group__wrapper",directives:[{name:"touch",value:{start:function(e){return t.overflowCheck(e,t.onTouchStart)},move:function(e){return t.overflowCheck(e,t.onTouchMove)},end:function(e){return t.overflowCheck(e,t.onTouchEnd)}}}],ref:"wrapper",on:{scroll:this.onScroll}},[this.genContent()])},calculateNewOffset:function(t,e,r,s){var i=r?-1:1,o=i*s+("prev"===t?-1:1)*e.wrapper;return i*Math.max(Math.min(o,e.content-e.wrapper),0)},onAffixClick:function(t){this.$emit("click:".concat(t)),this.scrollTo(t)},onResize:function(){this._isDestroyed||this.setWidths()},onTouchStart:function(t){var e=this.$refs.content;this.startX=this.scrollOffset+t.touchstartX,e.style.setProperty("transition","none"),e.style.setProperty("willChange","transform")},onTouchMove:function(t){if(this.canTouch){if(!this.isSwiping){var e=t.touchmoveX-t.touchstartX,r=t.touchmoveY-t.touchstartY;this.isSwipingHorizontal=Math.abs(e)>Math.abs(r),this.isSwiping=!0}this.isSwipingHorizontal&&(this.scrollOffset=this.startX-t.touchmoveX,document.documentElement.style.overflowY="hidden")}},onTouchEnd:function(){if(this.canTouch){var t=this.$refs,e=t.content,r=t.wrapper,s=e.clientWidth-r.clientWidth;e.style.setProperty("transition",null),e.style.setProperty("willChange",null),this.$vuetify.rtl?this.scrollOffset>0||!this.isOverflowing?this.scrollOffset=0:this.scrollOffset<=-s&&(this.scrollOffset=-s):this.scrollOffset<0||!this.isOverflowing?this.scrollOffset=0:this.scrollOffset>=s&&(this.scrollOffset=s),this.isSwiping=!1,document.documentElement.style.removeProperty("overflow-y")}},overflowCheck:function(t,e){t.stopPropagation(),this.isOverflowing&&e(t)},scrollIntoView:function(){if(!this.selectedItem&&this.items.length){var t=this.items[this.items.length-1].$el.getBoundingClientRect(),e=this.$refs.wrapper.getBoundingClientRect();(this.$vuetify.rtl&&e.right<t.right||!this.$vuetify.rtl&&e.left>t.left)&&this.scrollTo("prev")}this.selectedItem&&(0===this.selectedIndex||!this.centerActive&&!this.isOverflowing?this.scrollOffset=0:this.centerActive?this.scrollOffset=p(this.selectedItem.$el,this.widths,this.$vuetify.rtl):this.isOverflowing&&(this.scrollOffset=f(this.selectedItem.$el,this.widths,this.$vuetify.rtl,this.scrollOffset)))},scrollTo:function(t){this.scrollOffset=this.calculateNewOffset(t,{content:this.$refs.content?this.$refs.content.clientWidth:0,wrapper:this.$refs.wrapper?this.$refs.wrapper.clientWidth:0},this.$vuetify.rtl,this.scrollOffset)},setWidths:function(){var t=this;window.requestAnimationFrame((function(){var e=t.$refs,r=e.content,s=e.wrapper;t.widths={content:r?r.clientWidth:0,wrapper:s?s.clientWidth:0},t.isOverflowing=t.widths.wrapper+1<t.widths.content,t.scrollIntoView()}))}},render:function(t){return t("div",this.genData(),[this.genPrev(),this.genWrapper(),this.genNext()])}});e["b"]=m.extend({name:"v-slide-group",provide:function(){return{slideGroup:this}}})},"964b":function(t,e,r){},b0c6:function(t,e,r){"use strict";r.r(e);var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{staticClass:"justify-center"},[r("slide-table",{attrs:{instances:t.myWorkouts,title:"My workouts",loaded:t.loaded,"has-add":""},scopedSlots:t._u([{key:"header",fn:function(){return[t.loaded&&t.myWorkouts.length>5?r("card-modal",{attrs:{title:" "},scopedSlots:t._u([{key:"content",fn:function(e){var s=e.on,i=e.attrs;return[r("div",{staticClass:"d-flex align-center"},[r("v-btn",t._g(t._b({attrs:{text:""}},"v-btn",i,!1),s),[t._v(" Show all ")])],1)]}}],null,!1,1865490412)},[r("card-table",{attrs:{instances:t.myWorkouts,loaded:t.loaded,title:"My workouts"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.item;return[r("workout-modal",{attrs:{exercises:t.exercises,workout:s,"is-edit":""},on:{"save-workout":t.editWorkout,"remove-workout":t.removeWorkout}})]}}],null,!1,3296862472)})],1):t._e()]},proxy:!0},{key:"create",fn:function(){return[r("workout-modal",{attrs:{exercises:t.exercises,"is-add":""},on:{"save-workout":t.saveWorkout}})]},proxy:!0},{key:"default",fn:function(e){var s=e.item;return[r("workout-modal",{attrs:{exercises:t.exercises,workout:s,"is-edit":""},on:{"save-workout":t.editWorkout,"remove-workout":t.removeWorkout}})]}}])}),r("card-table",{attrs:{instances:t.workouts,loaded:t.loaded,title:"Workouts"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.item;return[r("workout-modal",{attrs:{exercises:t.exercises,workout:s}})]}}])})],1)},i=[],o=r("1da1"),a=(r("96cf"),r("d3b7"),r("159b"),r("c740"),r("4de4"),r("7db0"),r("93d6")),n=r("5458"),c=r("61ab"),l=r("ee0f"),u=r("650e"),d={components:{WorkoutModal:c["a"],CardTable:n["a"],SlideTable:l["a"],CardModal:u["a"]},data:function(){return{user:a["a"],myWorkouts:[],workouts:[],exercises:{},loaded:!1}},created:function(){this.loadPageData()},methods:{loadPageData:function(){return this.loadWorkouts().then(this.loadExercises)},loadExercises:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var r,s,i,o,a,n,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.user.getWgerExercises();case 3:return r=e.sent,s=r.data,e.next=7,t.user.getExercises();case 7:i=e.sent,o=i.data,a={},o.exercises.forEach((function(t){a[t.id]=t})),n={},o.myExercises.forEach((function(t){n[t.id]=t})),c={},s.wGerExercises.forEach((function(t){c[t.id]=t})),t.exercises={exercises:a,myExercises:n,wGerExercises:c},t.loaded=!0,e.next=22;break;case 19:e.prev=19,e.t0=e["catch"](0),console.log(e.t0.message);case 22:case"end":return e.stop()}}),e,null,[[0,19]])})))()},loadWorkouts:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.user.getWorkouts();case 3:r=e.sent,s=r.data,t.workouts=s.workouts,t.myWorkouts=s.myWorkouts,e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),console.log(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()},saveWorkout:function(t){var e=this;return this.user.addWorkout(t).then((function(t){var r=t.data;e.myWorkouts.push(r.workout),r.workout.access_public&&e.workouts.push(r.workout)}))},editWorkout:function(t){var e=this;return this.user.editWorkout(t,t.id).then((function(t){var r=t.data,s=e.myWorkouts.findIndex((function(t){return t.id===r.workout.id})),i=e.workouts.findIndex((function(t){return t.id===r.workout.id}));e.$set(e.myWorkouts,s,r.workout),r.workout.access_public||-1===i||(e.workouts=e.workouts.filter((function(t){return t.id!==r.workout.id}))),r.workout.access_public&&-1!==i&&e.$set(e.workouts,i,r.workout),r.workout.access_public&&-1===i&&e.workouts.push(r.workout)}))},removeWorkout:function(t){var e=this.myWorkouts.find((function(e){return e.id===t}));return e.access_public&&(this.workouts=this.workouts.filter((function(e){return e.id!==t}))),this.myWorkouts=this.myWorkouts.filter((function(e){return e.id!==t})),this.user.removeWorkout(t)}}},h=d,v=r("2877"),f=r("6544"),p=r.n(f),m=r("8336"),g=r("a523"),w=Object(v["a"])(h,s,i,!1,null,null,null);e["default"]=w.exports;p()(w,{VBtn:m["a"],VContainer:g["a"]})},ee0f:function(t,e,r){"use strict";var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",[r("v-divider",{staticStyle:{"margin-top":"12px"}}),r("div",{staticClass:"d-flex"},[r("h1",{staticClass:"subheading justify-center grey--text my-3"},[t._v(" "+t._s(t.title)+" ")]),r("v-spacer"),t._t("header")],2),r("v-divider",{staticStyle:{"margin-bottom":"12px"}}),r("v-sheet",[t.loaded?r("v-slide-group",{staticClass:"justify-center",attrs:{"show-arrows":""}},[t.hasAdd?r("v-slide-item",{key:"create"},[t._t("create")],2):t._e(),t._l(t.source,(function(e,s){return r("v-slide-item",{key:s},[t._t("default",null,{item:e})],2)}))],2):r("v-slide-group",{staticClass:"justify-center",attrs:{"show-arrows":""}},t._l(t.source,(function(t,e){return r("v-slide-item",{key:"skeleton-"+e},[r("v-skeleton-loader",{staticClass:"ma-2",attrs:{type:"card",elevation:"2",width:"300",height:"250"}})],1)})),1)],1)],1)},i=[],o={props:{title:{type:String,required:!0},hasAdd:{type:Boolean,default:!1},instances:{type:Array,required:!0},loaded:{type:Boolean,default:!1}},computed:{source:function(){return this.loaded?this.instances:[{},{},{},{},{},{}]}}},a=o,n=r("2877"),c=r("6544"),l=r.n(c),u=r("a523"),d=r("ce7e"),h=r("8dd9"),v=r("3129"),f=r("7efd"),p=r("ade3"),m=r("4e82"),g=r("58df"),w=r("d9bd"),x=r("2b0e"),b=x["a"].extend({props:{activeClass:String,value:{required:!1}},data:function(){return{isActive:!1}},methods:{toggle:function(){this.isActive=!this.isActive}},render:function(){return this.$scopedSlots.default?(this.$scopedSlots.default&&(t=this.$scopedSlots.default({active:this.isActive,toggle:this.toggle})),Array.isArray(t)&&1===t.length&&(t=t[0]),t&&!Array.isArray(t)&&t.tag?(t.data=this._b(t.data||{},t.tag,{class:Object(p["a"])({},this.activeClass,this.isActive)}),t):(Object(w["c"])("v-item should only contain a single element",this),t)):(Object(w["c"])("v-item is missing a default scopedSlot",this),null);var t}}),k=(Object(g["a"])(b,Object(m["a"])("itemGroup","v-item","v-item-group")).extend({name:"v-item"}),Object(g["a"])(b,Object(m["a"])("slideGroup")).extend({name:"v-slide-item"})),y=r("2fa4"),_=Object(n["a"])(a,s,i,!1,null,null,null);e["a"]=_.exports;l()(_,{VContainer:u["a"],VDivider:d["a"],VSheet:h["a"],VSkeletonLoader:v["a"],VSlideGroup:f["b"],VSlideItem:k,VSpacer:y["a"]})}}]);
//# sourceMappingURL=workouts.6ca599d5.js.map